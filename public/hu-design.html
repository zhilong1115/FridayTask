<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HU! 🀄 Game Design Document</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, 'Helvetica Neue', sans-serif; background: #0f0f0f; color: #e0e0e0; line-height: 1.7; }
  .container { max-width: 800px; margin: 0 auto; padding: 40px 24px; }
  h1 { font-size: 2.5em; margin-bottom: 8px; color: #ffd700; }
  h1 span { font-size: 0.5em; color: #888; }
  .tagline { color: #aaa; font-size: 1.1em; margin-bottom: 40px; }
  h2 { font-size: 1.6em; color: #ff6b35; margin: 40px 0 16px; border-bottom: 2px solid #333; padding-bottom: 8px; }
  h3 { font-size: 1.2em; color: #4fc3f7; margin: 24px 0 12px; }
  p { margin-bottom: 12px; }
  .card { background: #1a1a2e; border-radius: 12px; padding: 20px; margin: 12px 0; border-left: 4px solid #ff6b35; }
  .card.green { border-left-color: #4caf50; }
  .card.blue { border-left-color: #4fc3f7; }
  .card.purple { border-left-color: #ab47bc; }
  .card.gold { border-left-color: #ffd700; }
  .card h4 { color: #fff; margin-bottom: 8px; }
  .card p { color: #ccc; margin-bottom: 4px; font-size: 0.95em; }
  table { width: 100%; border-collapse: collapse; margin: 16px 0; }
  th { background: #1a1a2e; color: #ffd700; text-align: left; padding: 12px; font-weight: 600; }
  td { padding: 10px 12px; border-bottom: 1px solid #222; }
  tr:hover { background: #1a1a2e33; }
  .fan-pts { color: #ff6b35; font-weight: bold; }
  .rarity-common { color: #aaa; }
  .rarity-rare { color: #4fc3f7; }
  .rarity-epic { color: #ab47bc; }
  .rarity-legendary { color: #ffd700; }
  .emoji { font-size: 1.3em; }
  .section-num { color: #555; margin-right: 8px; }
  ul { padding-left: 20px; margin: 8px 0; }
  li { margin: 4px 0; }
  .flow { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; margin: 16px 0; }
  .flow-step { background: #1a1a2e; padding: 10px 16px; border-radius: 8px; font-weight: 600; }
  .flow-arrow { color: #555; font-size: 1.5em; }
  .boss-card { background: #2a1020; border-left-color: #e91e63; }
  .tech-badge { display: inline-block; background: #222; padding: 4px 12px; border-radius: 16px; margin: 4px; font-size: 0.85em; color: #aaa; }
  @media (max-width: 600px) { h1 { font-size: 1.8em; } .container { padding: 20px 16px; } }
</style>
</head>
<body>
<div class="container">

<h1>HU! 🀄 <span>Game Design Document</span></h1>
<p class="tagline">A roguelike mahjong deck-builder inspired by Balatro — 用麻将番型代替扑克牌型，用神牌代替Joker</p>

<h2><span class="section-num">01</span>核心概念</h2>
<p>将 Balatro 令人上瘾的 roguelike 牌组构建循环，用麻将机制重新诠释。玩家不再组成扑克牌型，而是形成麻将的胡牌番型。不再收集 Joker，而是收集具有强力被动效果的<strong>神牌 (God Tiles)</strong>。</p>

<h2><span class="section-num">02</span>核心循环</h2>
<div class="flow">
  <div class="flow-step">🀄 出牌</div>
  <div class="flow-arrow">→</div>
  <div class="flow-step">💰 得分</div>
  <div class="flow-arrow">→</div>
  <div class="flow-step">⚔️ 过关</div>
  <div class="flow-arrow">→</div>
  <div class="flow-step">🛒 商店</div>
  <div class="flow-arrow">→</div>
  <div class="flow-step">🔄 重复</div>
</div>
<ol style="padding-left:20px;">
  <li><strong>出牌 (Play)</strong> — 手持14张麻将牌，组成有效的胡牌组合（面子+雀头）来得分</li>
  <li><strong>得分 (Score)</strong> — 根据你组成的番型计算分数，越难的番型分越高</li>
  <li><strong>过关 (Survive)</strong> — 达到目标分数即可进入下一关</li>
  <li><strong>商店 (Shop)</strong> — 在关卡间购买神牌、花牌和升级</li>
  <li><strong>重复 (Repeat)</strong> — 关卡越来越难，你能走多远？</li>
</ol>

<h2><span class="section-num">03</span>计分系统 — Chips × Mult</h2>
<p>采用 Balatro 风格的计分：<strong>（基础筹码 + 额外筹码）× （基础倍率 × 倍率加成）</strong></p>
<div class="card">
  <h4>计分流程</h4>
  <p>1. 评估手牌 → 识别番型</p>
  <p>2. 番型提供基础 chips 和 mult 值</p>
  <p>3. 神牌被动效果触发，修改 chips / mult</p>
  <p>4. 最终得分 = chips × mult</p>
</div>

<h2><span class="section-num">04</span>番型系统 (Fan Patterns)</h2>
<p>番型是得分的核心 — 类似 Balatro 中的扑克牌型。越难组成的番型，得分越高。</p>

<h3>基础番型 (1-2番)</h3>
<table>
  <tr><th>番型</th><th>番数</th><th>说明</th></tr>
  <tr><td>🀄 胡牌</td><td class="fan-pts">1</td><td>基础胡牌分</td></tr>
  <tr><td>✨ 平和</td><td class="fan-pts">2</td><td>四副顺子一对将牌</td></tr>
  <tr><td>🌊 一气通贯</td><td class="fan-pts">2</td><td>同花色的 123、456、789</td></tr>
  <tr><td>🎨 三色同顺</td><td class="fan-pts">2</td><td>三种花色相同数字的顺子</td></tr>
</table>

<h3>中级番型 (4-8番)</h3>
<table>
  <tr><th>番型</th><th>番数</th><th>说明</th></tr>
  <tr><td>👯 七对</td><td class="fan-pts">4</td><td>七个对子</td></tr>
  <tr><td>🔒 三暗刻</td><td class="fan-pts">4</td><td>三个暗刻子</td></tr>
  <tr><td>💪 对对和</td><td class="fan-pts">6</td><td>全部都是刻子</td></tr>
  <tr><td>🎭 混一色</td><td class="fan-pts">6</td><td>一种花色 + 字牌</td></tr>
  <tr><td>🐉 小三元</td><td class="fan-pts">6</td><td>中发白，两刻一对</td></tr>
  <tr><td>👴 混老头</td><td class="fan-pts">8</td><td>全部由1/9和字牌组成</td></tr>
</table>

<h3>高级番型 (12-32番)</h3>
<table>
  <tr><th>番型</th><th>番数</th><th>说明</th></tr>
  <tr><td>💎 清一色</td><td class="fan-pts">24</td><td>全部由一种花色组成</td></tr>
  <tr><td>🐲 大三元</td><td class="fan-pts">24</td><td>中发白都做刻子</td></tr>
  <tr><td>🌬️ 小四喜</td><td class="fan-pts">24</td><td>东南西北，三刻一对</td></tr>
  <tr><td>🔐 四暗刻</td><td class="fan-pts">32</td><td>四个暗刻子</td></tr>
</table>

<h3>役满番型 (64-88番) 🔥</h3>
<table>
  <tr><th>番型</th><th>番数</th><th>说明</th></tr>
  <tr><td>🏯 字一色</td><td class="fan-pts">64</td><td>全部由字牌组成</td></tr>
  <tr><td>🗿 清老头</td><td class="fan-pts">64</td><td>全部由1/9组成</td></tr>
  <tr><td>🌀 大四喜</td><td class="fan-pts">64</td><td>东南西北都做刻子</td></tr>
  <tr><td>🌿 绿一色</td><td class="fan-pts">64</td><td>全部绿色牌 (2/3/4/6/8条+发)</td></tr>
  <tr><td>🏮 九莲宝灯</td><td class="fan-pts">88</td><td>清一色 1112345678999</td></tr>
  <tr><td>🔑 四暗刻单骑</td><td class="fan-pts">88</td><td>四暗刻且雀头单骑</td></tr>
  <tr><td>👑 国士无双</td><td class="fan-pts">88</td><td>13种幺九牌各一张 + 一重复</td></tr>
</table>

<h3>加番条件</h3>
<table>
  <tr><th>条件</th><th>番数</th><th>说明</th></tr>
  <tr><td>自摸</td><td class="fan-pts">+1</td><td>自己摸到胡牌</td></tr>
  <tr><td>门清</td><td class="fan-pts">+1</td><td>没有吃碰明杠</td></tr>
  <tr><td>断幺九</td><td class="fan-pts">+1</td><td>没有1/9和字牌</td></tr>
  <tr><td>岭上开花</td><td class="fan-pts">+1</td><td>杠后补牌胡牌</td></tr>
  <tr><td>海底摸月</td><td class="fan-pts">+1</td><td>最后一张牌自摸</td></tr>
</table>

<h2><span class="section-num">05</span>神牌系统 (God Tiles) — 被动效果</h2>
<p>神牌等同于 Balatro 的 Joker，提供持续的被动效果来增强你的得分能力。</p>

<h3 class="rarity-common">普通神牌 (2-3金)</h3>
<div class="card">
  <h4>🀇 财神一万</h4>
  <p><strong>招财：</strong>每次胡牌额外获得1金币</p>
</div>
<div class="card">
  <h4>🀄 红中神牌</h4>
  <p><strong>红中加持：</strong>有红中的番型额外+1番</p>
</div>

<h3 class="rarity-rare">稀有神牌 (5-7金)</h3>
<div class="card blue">
  <h4>🀀 东风神牌</h4>
  <p><strong>东风之力：</strong>风牌组成的番型翻倍</p>
</div>
<div class="card blue">
  <h4>🀇 九万霸主</h4>
  <p><strong>老头称王：</strong>1/9牌的番型+2番</p>
</div>
<div class="card blue">
  <h4>🀙 五筒聚宝</h4>
  <p><strong>聚宝盆：</strong>每个刻子额外获得1金币</p>
</div>

<h3 class="rarity-epic">史诗神牌 (12-14金)</h3>
<div class="card purple">
  <h4>🀅 发财神牌</h4>
  <p><strong>发财致富：</strong>胡牌金币奖励翻倍</p>
  <p><strong>绿色传说：</strong>绿一色番型更容易达成</p>
</div>
<div class="card purple">
  <h4>🀐 一条龙神</h4>
  <p><strong>龙之力：</strong>一气通贯番型+4番</p>
</div>

<h3 class="rarity-legendary">传说神牌 (25-30金)</h3>
<div class="card gold">
  <h4>🀆 白板创世</h4>
  <p><strong>创世之力：</strong>可以替代任意一张牌</p>
  <p><strong>纯净之心：</strong>清一色番型额外+8番</p>
</div>
<div class="card gold">
  <h4>🀇 万中之王</h4>
  <p><strong>万能转换：</strong>可以变成任意万字牌</p>
  <p><strong>王者之威：</strong>所有番型+3番</p>
</div>

<h2><span class="section-num">06</span>花牌系统 (Flower Cards) — 消耗品</h2>
<p>花牌是一次性消耗品，类似 Balatro 的塔罗牌/星球牌。分为四季花色，各有不同功能。</p>

<h3>🎋 竹（技能类）</h3>
<div class="card green">
  <h4>翠竹引路 <span class="rarity-common">[普通 · 3金]</span></h4>
  <p>下次摸牌可以看到3张牌并选择1张</p>
</div>
<div class="card green">
  <h4>竹林听风 <span class="rarity-rare">[稀有 · 5金]</span></h4>
  <p>听牌时获得额外的胡牌机会</p>
</div>

<h3>🌸 梅（防御类）</h3>
<div class="card">
  <h4>寒梅傲雪 <span class="rarity-common">[普通 · 4金]</span></h4>
  <p>Boss攻击伤害-1（本轮）</p>
</div>
<div class="card">
  <h4>梅花三弄 <span class="rarity-epic">[史诗 · 7金]</span></h4>
  <p>下次Boss攻击无效化</p>
</div>

<h3>🌺 兰（加成类）</h3>
<div class="card blue">
  <h4>幽兰吐芳 <span class="rarity-common">[普通 · 4金]</span></h4>
  <p>下次胡牌番数+2</p>
</div>
<div class="card blue">
  <h4>兰花拂月 <span class="rarity-rare">[稀有 · 8金]</span></h4>
  <p>本局所有番型+1番</p>
</div>
<div class="card blue">
  <h4>空谷幽兰 <span class="rarity-legendary">[传说 · 12金]</span></h4>
  <p>使下一张神牌免费</p>
</div>

<h3>🌼 菊（特殊类）</h3>
<div class="card purple">
  <h4>秋菊傲霜 <span class="rarity-common">[普通 · 5金]</span></h4>
  <p>清除所有负面效果</p>
</div>
<div class="card purple">
  <h4>菊花残月 <span class="rarity-epic">[史诗 · 10金]</span></h4>
  <p>重新洗牌并摸取新手牌</p>
</div>
<div class="card purple">
  <h4>九九重阳 <span class="rarity-legendary">[传说 · 15金]</span></h4>
  <p>所有九牌变成神牌</p>
</div>

<h2><span class="section-num">07</span>关卡系统 — Blind 递进</h2>
<p>采用 Balatro 的 Small Blind → Big Blind → Boss Blind 循环：</p>
<div class="card">
  <h4>关卡递进</h4>
  <p>每个 Ante（大轮）包含三关：小盲 → 大盲 → Boss盲</p>
  <p>每个 Ante 目标分数递增</p>
  <p>胜利条件：达到目标分数</p>
  <p>失败条件：用完所有出牌次数仍未达标</p>
</div>

<h2><span class="section-num">08</span>Boss 关卡 — 特殊限制</h2>
<p>Boss 关有独特的限制条件，增加策略性：</p>

<div class="card boss-card">
  <h4>🚫 万字封印</h4>
  <p>不能使用万字牌</p>
</div>
<div class="card boss-card">
  <h4>🙈 盲牌之局</h4>
  <p>所有牌面朝下，打出才能翻开</p>
</div>
<div class="card boss-card">
  <h4>👯 对子挑战</h4>
  <p>必须用对子赢（七对或对对和）</p>
</div>
<div class="card boss-card">
  <h4>💀 诅咒之牌</h4>
  <p>随机牌被诅咒（得分为0）</p>
</div>
<div class="card boss-card">
  <h4>⛔ 花色禁令</h4>
  <p>每手禁用一种花色</p>
</div>

<h2><span class="section-num">09</span>商店系统</h2>
<div class="card green">
  <h4>🛒 回合间商店</h4>
  <p>• 展示 3-5 个随机神牌和花牌供购买</p>
  <p>• 重新刷新按钮（费用递增）</p>
  <p>• 可出售已有神牌换取金币</p>
  <p>• 显示金币余额、已有神牌、下一关信息</p>
</div>

<h2><span class="section-num">10</span>麻将牌组</h2>
<p>标准牌组：136张牌（34种 × 4张）</p>
<table>
  <tr><th>花色</th><th>牌</th><th>数量</th></tr>
  <tr><td>🔴 万 (Characters)</td><td>一万 ~ 九万</td><td>9×4 = 36</td></tr>
  <tr><td>🔵 筒 (Dots)</td><td>一筒 ~ 九筒</td><td>9×4 = 36</td></tr>
  <tr><td>🟢 条 (Bamboo)</td><td>一条 ~ 九条</td><td>9×4 = 36</td></tr>
  <tr><td>🌬️ 风 (Winds)</td><td>东 南 西 北</td><td>4×4 = 16</td></tr>
  <tr><td>🐉 箭 (Dragons)</td><td>中 发 白</td><td>3×4 = 12</td></tr>
</table>

<h3>牌桌变体 (Deck Variants)</h3>
<ul>
  <li><strong>标准牌桌</strong> — 完整136张</li>
  <li><strong>字牌之局</strong> — 只有风牌+箭牌，张数更少更难</li>
  <li><strong>条子大师</strong> — 只有条子花色+字牌</li>
  <li><strong>赤宝牌</strong> — 特殊红色5有额外得分</li>
</ul>

<h2><span class="section-num">11</span>技术栈</h2>
<p>
  <span class="tech-badge">Phaser 3</span>
  <span class="tech-badge">TypeScript</span>
  <span class="tech-badge">Vite</span>
  <span class="tech-badge">YouTube Playables</span>
  <span class="tech-badge">Mobile-first</span>
  <span class="tech-badge">HTML5</span>
</p>

<h2><span class="section-num">12</span>目标平台</h2>
<div class="card">
  <h4>📱 YouTube Playables</h4>
  <p>• HTML5 构建，满足 YouTube 尺寸限制</p>
  <p>• 手机端竖屏模式优先</p>
  <p>• 触控操作：点击选牌，按钮出牌/弃牌</p>
</div>

<br><br>
<p style="color:#555; text-align:center; font-size:0.85em;">Generated by Friday 🟡 · Jan 28, 2026</p>

</div>
</body>
</html>
