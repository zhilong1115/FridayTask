<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>2026-02-15 - ML System Design é€šç”¨æ¶æ„æ¨¡å¼ï¼šä» 5 ä¸ªç³»ç»Ÿä¸­æç‚¼çš„é¢è¯•æ¡†æ¶</title>
  <style>
    body { font-family: -apple-system, system-ui, sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; line-height: 1.7; color: #333; }
    .bilingual { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .zh { border-left: 3px solid #f9ab00; padding-left: 15px; }
    .en { border-left: 3px solid #1a73e8; padding-left: 15px; }
    h1 { color: #1a73e8; border-bottom: 3px solid #1a73e8; padding-bottom: 10px; }
    h2 { color: #3c4043; margin-top: 35px; }
    h3 { color: #5f6368; }
    .architecture { background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0; }
    pre { background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 8px; overflow-x: auto; font-size: 13px; }
    .highlight { background: #fff3cd; padding: 15px; border-radius: 8px; margin: 15px 0; }
    .highlight-blue { background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 15px 0; }
    .highlight-green { background: #e8f5e9; padding: 15px; border-radius: 8px; margin: 15px 0; }
    .highlight-red { background: #fce4ec; padding: 15px; border-radius: 8px; margin: 15px 0; }
    .diagram { background: #f0f4f8; padding: 20px; border-radius: 8px; margin: 20px 0; font-family: monospace; white-space: pre; font-size: 13px; line-height: 1.5; }
    table { border-collapse: collapse; width: 100%; margin: 15px 0; }
    th, td { border: 1px solid #dadce0; padding: 10px; text-align: left; }
    th { background: #f8f9fa; font-weight: 600; }
    .interview { background: #f3e5f5; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #9c27b0; }
    .pattern-card { border: 2px solid #e0e0e0; border-radius: 12px; padding: 20px; margin: 20px 0; }
    .pattern-card h3 { margin-top: 0; color: #1a73e8; }
    .tag { display: inline-block; background: #e8eaf6; color: #3f51b5; padding: 2px 8px; border-radius: 4px; font-size: 12px; margin: 2px; }
    .systems-used { font-size: 13px; color: #666; margin-top: 8px; }
    .follow-up { margin-top: 30px; padding: 15px; border: 1px dashed #dadce0; border-radius: 8px; }
  </style>
</head>
<body>

<h1>ğŸ§© ML System Design é€šç”¨æ¶æ„æ¨¡å¼<br><small style="font-size:16px;color:#666">Meta-Patterns from 5 System Designs â€” Your Interview Framework</small></h1>
<p>ğŸ“… 2026-02-15 | Phase 2.2 Day 1 | åŸºäº Phase 2.1 çš„ 5 ä¸ªç³»ç»Ÿè®¾è®¡æç‚¼</p>

<div class="highlight-blue">
<strong>ğŸ“Œ ä»Šæ—¥ä¸»é¢˜</strong>ï¼šPhase 2.1 æˆ‘ä»¬è®¾è®¡äº† 5 ä¸ªå®Œæ•´ç³»ç»Ÿï¼ˆChatGPTã€æ¨èã€æœç´¢ã€RAGã€Code Reviewï¼‰ã€‚ä»Šå¤©æˆ‘ä»¬è·³å‡ºå•ä¸ªç³»ç»Ÿï¼Œæç‚¼å‡º<strong>åå¤å‡ºç°çš„é€šç”¨æ¶æ„æ¨¡å¼</strong>ã€‚è¿™äº›æ¨¡å¼æ˜¯é¢è¯•çš„"ä¸‡èƒ½æ­¦å™¨"â€”â€”ä¸ç®¡é—®ä½ è®¾è®¡ä»€ä¹ˆç³»ç»Ÿï¼Œè¿™äº› pattern éƒ½èƒ½ç”¨ã€‚
</div>

<h2>ğŸ—ï¸ Pattern 1: Multi-Stage Pipelineï¼ˆå¤šé˜¶æ®µæµæ°´çº¿ï¼‰</h2>

<div class="pattern-card">
<h3>æ ¸å¿ƒæ€æƒ³ï¼šæ¼æ–—å¼é€æ­¥ç²¾ç‚¼</h3>

<div class="bilingual">
<div class="zh">
<p><strong>å‡ ä¹æ¯ä¸ª ML ç³»ç»Ÿéƒ½æ˜¯å¤šé˜¶æ®µ pipeline</strong>ï¼Œä»ç²—åˆ°ç»†é€æ­¥ç²¾ç‚¼ã€‚è¿™ä¸æ˜¯å·§åˆâ€”â€”è¿™æ˜¯åœ¨<strong>å»¶è¿Ÿã€æˆæœ¬ã€è´¨é‡</strong>ä¸‰è€…é—´å–å¹³è¡¡çš„å¿…ç„¶ç»“æœã€‚</p>
<p>åŸç†ï¼šå‰é¢é˜¶æ®µç”¨ä¾¿å®œ/å¿«é€Ÿçš„æ¨¡å‹å¤„ç†å¤§é‡å€™é€‰ï¼Œåé¢é˜¶æ®µç”¨æ˜‚è´µ/ç²¾å‡†çš„æ¨¡å‹å¤„ç†å°‘é‡å€™é€‰ã€‚</p>
</div>
<div class="en">
<p><strong>Nearly every ML system is a multi-stage pipeline</strong>, progressively refining from coarse to fine. This is the inevitable result of balancing <strong>latency, cost, and quality</strong>.</p>
<p>Principle: Early stages use cheap/fast models on many candidates; later stages use expensive/precise models on few candidates.</p>
</div>
</div>

<div class="diagram">
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚        Multi-Stage Pipeline Pattern      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  æ¨èç³»ç»Ÿ:   Retrieval(1Mâ†’10K) â†’ L1 Ranking â†’ L2 Ranking â†’ Re-rank(â†’50)
  æœç´¢å¼•æ“:   BM25+ANN(â†’1000)  â†’ Cross-Encoder Rerank â†’ MMR(â†’10)
  RAGç³»ç»Ÿ:    Retrieval(â†’100)   â†’ Rerank(â†’10) â†’ Generation â†’ Verification
  Code Review: Quick Scan(â†’files) â†’ Deep Analysis â†’ Verification Agent
  ChatGPT:    Intent Route â†’ Model Select â†’ Generate â†’ Safety Filter

  é€šç”¨å½¢å¼:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Candidate â”‚â”€â”€â†’â”‚  Coarse  â”‚â”€â”€â†’â”‚   Fine   â”‚â”€â”€â†’â”‚  Final   â”‚
  â”‚ Retrieval â”‚   â”‚  Filter  â”‚   â”‚  Ranking â”‚   â”‚ Post-Procâ”‚
  â”‚ (cheap)   â”‚   â”‚ (medium) â”‚   â”‚(expensive)â”‚   â”‚ (verify) â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    10K-1M items   1K-10K         10-100          1-50
    &lt;10ms/item     ~1ms/item      ~10ms/item     ~50ms/item
</div>

<div class="highlight">
<strong>ğŸ¯ é¢è¯•æŠ€å·§</strong>ï¼šå½“é¢è¯•å®˜é—®"ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨æœ€å¥½çš„æ¨¡å‹ï¼Ÿ"ï¼Œå›ç­”ä¸‰ä¸ªå­—â€”â€”<strong>"æˆæœ¬çº¦æŸ"</strong>ã€‚ç”¨ Cross-Encoder å¯¹ 1M æ–‡æ¡£æ’åºéœ€è¦ ~16 åˆ†é’Ÿï¼Œä½†å¯¹ 100 ä¸ªæ–‡æ¡£åªéœ€ ~1 ç§’ã€‚Pipeline æ˜¯å·¥ç¨‹ä¸Šå”¯ä¸€å¯è¡Œçš„æ–¹æ¡ˆã€‚
</div>

<p class="systems-used">
<span class="tag">æ¨èç³»ç»Ÿ</span> <span class="tag">æœç´¢å¼•æ“</span> <span class="tag">RAG</span> <span class="tag">Code Review</span> <span class="tag">ChatGPT</span>
</p>
</div>

<h2>ğŸ”€ Pattern 2: Offline/Online Separationï¼ˆç¦»çº¿/åœ¨çº¿åˆ†ç¦»ï¼‰</h2>

<div class="pattern-card">
<h3>æ ¸å¿ƒæ€æƒ³ï¼šé¢„è®¡ç®—ä¸€åˆ‡å¯ä»¥é¢„è®¡ç®—çš„</h3>

<div class="bilingual">
<div class="zh">
<p>æŠŠç³»ç»Ÿåˆ‡æˆ<strong>ç¦»çº¿æ‰¹å¤„ç†</strong>å’Œ<strong>åœ¨çº¿å®æ—¶æœåŠ¡</strong>ä¸¤éƒ¨åˆ†ã€‚ç¦»çº¿ä¸å—å»¶è¿Ÿçº¦æŸï¼Œå¯ä»¥è·‘é‡å‹è®¡ç®—ï¼›åœ¨çº¿è¦æ±‚æ¯«ç§’çº§å“åº”ï¼Œåªåšè½»é‡æ¨ç†ã€‚</p>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼šå¦‚æœæŸä¸ªè®¡ç®—ä¸ä¾èµ–ç”¨æˆ·å®æ—¶è¾“å…¥ï¼Œå°±åº”è¯¥ç¦»çº¿åšã€‚</p>
</div>
<div class="en">
<p>Split the system into <strong>offline batch processing</strong> and <strong>online real-time serving</strong>. Offline has no latency constraint for heavy computation; online requires millisecond responses with lightweight inference only.</p>
<p><strong>Key insight</strong>: If a computation doesn't depend on real-time user input, do it offline.</p>
</div>
</div>

<table>
<tr><th>ç³»ç»Ÿ</th><th>Offlineï¼ˆç¦»çº¿ï¼‰</th><th>Onlineï¼ˆåœ¨çº¿ï¼‰</th></tr>
<tr><td>æ¨è</td><td>ç”¨æˆ·/ç‰©å“ Embedding é¢„è®¡ç®—ã€Feature Store æ›´æ–°ã€æ¨¡å‹è®­ç»ƒ</td><td>ANN æ£€ç´¢ + L1/L2 æ’åº</td></tr>
<tr><td>æœç´¢</td><td>æ–‡æ¡£ç´¢å¼•æ„å»ºã€BM25 å€’æ’ç´¢å¼•ã€å‘é‡ç´¢å¼•</td><td>Query â†’ æ£€ç´¢ â†’ Rerank â†’ è¿”å›</td></tr>
<tr><td>RAG</td><td>æ–‡æ¡£è§£æã€Chunkingã€Embeddingã€ç´¢å¼•</td><td>Query â†’ æ£€ç´¢ â†’ ç”Ÿæˆ â†’ å¼•ç”¨</td></tr>
<tr><td>Code Review</td><td>ä»£ç åº“ç´¢å¼•ã€Knowledge Graph æ„å»ºã€è§„åˆ™åº“æ›´æ–°</td><td>PR diff â†’ åˆ†æ â†’ è¯„è®º</td></tr>
<tr><td>ChatGPT</td><td>æ¨¡å‹è®­ç»ƒ/RLHFã€Safety åˆ†ç±»å™¨è®­ç»ƒ</td><td>å¯¹è¯ç®¡ç† â†’ ç”Ÿæˆ â†’ Safety è¿‡æ»¤</td></tr>
</table>

<div class="highlight">
<strong>ğŸ¯ é¢è¯•æŠ€å·§</strong>ï¼šåœ¨ç”»æ¶æ„å›¾æ—¶ï¼Œ<strong>æ°¸è¿œå…ˆç”»ä¸€æ¡è™šçº¿æŠŠ Offline å’Œ Online åˆ†å¼€</strong>ã€‚è¿™ç«‹åˆ»å±•ç¤ºä½ ç†è§£ç³»ç»Ÿçš„æ ¸å¿ƒåˆ†ç•Œã€‚é¢è¯•å®˜æœ€æ€•çœ‹åˆ°æŠŠæ‰€æœ‰ä¸œè¥¿æ··åœ¨ä¸€èµ·çš„è®¾è®¡ã€‚
</div>

<p class="systems-used">
<span class="tag">æ¨èç³»ç»Ÿ</span> <span class="tag">æœç´¢å¼•æ“</span> <span class="tag">RAG</span> <span class="tag">Code Review</span> <span class="tag">ChatGPT</span>
</p>
</div>

<h2>ğŸ§  Pattern 3: Model Routing / Tiered Modelsï¼ˆæ¨¡å‹è·¯ç”± / åˆ†å±‚æ¨¡å‹ï¼‰</h2>

<div class="pattern-card">
<h3>æ ¸å¿ƒæ€æƒ³ï¼šä¸æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½éœ€è¦æœ€å¼ºæ¨¡å‹</h3>

<div class="bilingual">
<div class="zh">
<p>æ ¹æ®è¯·æ±‚å¤æ‚åº¦ã€ç”¨æˆ·çº§åˆ«ã€æˆ–ä»»åŠ¡ç±»å‹ï¼Œè·¯ç”±åˆ°ä¸åŒè§„æ¨¡çš„æ¨¡å‹ã€‚è¿™æ˜¯<strong>æˆæœ¬ä¼˜åŒ–çš„æ ¸å¿ƒæ‰‹æ®µ</strong>ï¼Œé€šå¸¸èƒ½é™ä½ 60-80% çš„æ¨ç†æˆæœ¬ã€‚</p>
</div>
<div class="en">
<p>Route requests to different model tiers based on complexity, user tier, or task type. This is the <strong>core cost optimization technique</strong>, typically reducing inference costs by 60-80%.</p>
</div>
</div>

<div class="diagram">
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   Router /   â”‚
                         â”‚  Classifier  â”‚
                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼           â–¼           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Small   â”‚ â”‚ Medium  â”‚ â”‚  Large  â”‚
              â”‚ (GPT-4o â”‚ â”‚ (Claude â”‚ â”‚ (Opus / â”‚
              â”‚  mini)   â”‚ â”‚ Sonnet) â”‚ â”‚ GPT-4o) â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              ç®€å•æŸ¥è¯¢ 60%  ä¸­ç­‰ä»»åŠ¡ 30%  å¤æ‚æ¨ç† 10%
              $0.15/1M    $3/1M        $15/1M
</div>

<table>
<tr><th>ç³»ç»Ÿ</th><th>è·¯ç”±ç­–ç•¥</th><th>æˆæœ¬èŠ‚çœ</th></tr>
<tr><td>ChatGPT</td><td>æŒ‰ç”¨æˆ·å¥—é¤ (Freeâ†’å°æ¨¡å‹, Plusâ†’å¤§æ¨¡å‹, Proâ†’Opus)</td><td>~70%</td></tr>
<tr><td>Code Review</td><td>ç®€å• diffâ†’è§„åˆ™å¼•æ“, ä¸­ç­‰â†’Haiku, å¤æ‚â†’Sonnet</td><td>~75%</td></tr>
<tr><td>RAG</td><td>FAQ ç¼“å­˜å‘½ä¸­â†’ä¸è°ƒ LLM, ç®€å•â†’å°æ¨¡å‹, å¤æ‚â†’å¤§æ¨¡å‹</td><td>~70-85%</td></tr>
<tr><td>æ¨è</td><td>L1 ç”¨è½»é‡æ¨¡å‹, L2 æ‰ç”¨é‡å‹æ¨¡å‹</td><td>N/A (å»¶è¿Ÿä¼˜åŒ–)</td></tr>
</table>

<div class="highlight">
<strong>ğŸ¯ é¢è¯•æŠ€å·§</strong>ï¼šé¢è¯•å®˜é—®"æ€ä¹ˆæ§åˆ¶æˆæœ¬"æ—¶ï¼ŒModel Routing æ˜¯ç¬¬ä¸€ä¸ªè¦è¯´çš„ã€‚å…³é”®æ•°æ®ç‚¹ï¼š<strong>80% çš„è¯·æ±‚å¯ä»¥ç”¨æœ€ä¾¿å®œçš„æ¨¡å‹å¤„ç†</strong>ï¼ˆäºŒå…«æ³•åˆ™ï¼‰ã€‚å…ˆåˆ†ææµé‡åˆ†å¸ƒï¼Œå†è®¾è®¡è·¯ç”±è§„åˆ™ã€‚
</div>

<p class="systems-used">
<span class="tag">ChatGPT</span> <span class="tag">RAG</span> <span class="tag">Code Review</span> <span class="tag">æ¨èç³»ç»Ÿ</span>
</p>
</div>

<h2>ğŸ’¾ Pattern 4: Multi-Layer Cachingï¼ˆå¤šå±‚ç¼“å­˜ï¼‰</h2>

<div class="pattern-card">
<h3>æ ¸å¿ƒæ€æƒ³ï¼šæœ€å¿«çš„è®¡ç®—æ˜¯ä¸è®¡ç®—</h3>

<div class="bilingual">
<div class="zh">
<p>ä¸‰å±‚ç¼“å­˜æ˜¯ ML ç³»ç»Ÿçš„æ ‡é…ï¼š<strong>ç²¾ç¡®åŒ¹é… â†’ è¯­ä¹‰ç¼“å­˜ â†’ ç»“æœç¼“å­˜</strong>ã€‚æ¯å±‚æœ‰ä¸åŒçš„å‘½ä¸­ç‡å’Œä¸€è‡´æ€§è¦æ±‚ã€‚</p>
</div>
<div class="en">
<p>Three-layer caching is standard in ML systems: <strong>Exact Match â†’ Semantic Cache â†’ Result Cache</strong>. Each layer has different hit rates and consistency requirements.</p>
</div>
</div>

<div class="diagram">
  è¯·æ±‚ â”€â”€â†’ L1: Exact Cache â”€â”€missâ”€â”€â†’ L2: Semantic Cache â”€â”€missâ”€â”€â†’ L3: Compute
            â”‚ (Redis, hash)         â”‚ (Vector similarity)        â”‚ (Model inference)
            â”‚ Hit rate: 15-25%      â”‚ Hit rate: 20-35%           â”‚
            â”‚ Latency: &lt;1ms        â”‚ Latency: ~5ms              â”‚ Latency: 100ms-10s
            â–¼                       â–¼                            â–¼
          ç›´æ¥è¿”å›               è¿”å›+å¾®è°ƒæ•´                   è®¡ç®—+å›å¡«ç¼“å­˜
</div>

<table>
<tr><th>ç³»ç»Ÿ</th><th>L1 ç²¾ç¡®ç¼“å­˜</th><th>L2 è¯­ä¹‰ç¼“å­˜</th><th>L3 ç»“æœç¼“å­˜</th></tr>
<tr><td>ChatGPT</td><td>å®Œå…¨ç›¸åŒ prompt hash</td><td>è¯­ä¹‰ç›¸ä¼¼ prompt</td><td>Prefill KV-Cache</td></tr>
<tr><td>RAG</td><td>å®Œå…¨ç›¸åŒ query</td><td>ç›¸ä¼¼ query â†’ ç›¸åŒ chunks</td><td>FAQ é¢„è®¡ç®—ç­”æ¡ˆ</td></tr>
<tr><td>æœç´¢</td><td>çƒ­é—¨ query ç»“æœ</td><td>ç›¸ä¼¼ query â†’ è¿‘ä¼¼ç»“æœ</td><td>Embedding é¢„è®¡ç®—</td></tr>
<tr><td>æ¨è</td><td>ç”¨æˆ·æœ€è¿‘æ¨èåˆ—è¡¨</td><td>ç›¸ä¼¼ç”¨æˆ·ç”»åƒ</td><td>Feature Store</td></tr>
</table>

<div class="highlight">
<strong>ğŸ¯ é¢è¯•æŠ€å·§</strong>ï¼šç¼“å­˜çš„å…³é”®ä¸æ˜¯"åŠ  Redis"ï¼Œè€Œæ˜¯<strong>ç¼“å­˜å¤±æ•ˆç­–ç•¥</strong>ã€‚é¢è¯•å®˜ä¼šè¿½é—®"ç¼“å­˜ä¸ä¸€è‡´æ€ä¹ˆåŠï¼Ÿ"ç­”æ¡ˆæ˜¯ TTL + Event-driven invalidationï¼šè®¾çŸ­ TTL å…œåº•ï¼ŒåŒæ—¶åœ¨æ•°æ®æ›´æ–°æ—¶ä¸»åŠ¨æ¸…é™¤ã€‚
</div>

<p class="systems-used">
<span class="tag">ChatGPT</span> <span class="tag">RAG</span> <span class="tag">æœç´¢å¼•æ“</span> <span class="tag">æ¨èç³»ç»Ÿ</span>
</p>
</div>

<h2>ğŸ›¡ï¸ Pattern 5: Guardrails & Verificationï¼ˆæŠ¤æ ä¸éªŒè¯ï¼‰</h2>

<div class="pattern-card">
<h3>æ ¸å¿ƒæ€æƒ³ï¼šLLM ä¸å¯é ï¼Œæ‰€ä»¥éœ€è¦å¤šå±‚æ ¡éªŒ</h3>

<div class="bilingual">
<div class="zh">
<p>è¿™æ˜¯ 2025-2026 å¹´ AI ç³»ç»Ÿè®¾è®¡ä¸­<strong>æœ€é‡è¦çš„æ–° pattern</strong>ã€‚ä¼ ç»Ÿç³»ç»Ÿä¿¡ä»»è®¡ç®—ç»“æœï¼ŒLLM ç³»ç»Ÿå¿…é¡»<strong>éªŒè¯è¾“å‡º</strong>ã€‚ä¸‰ç§éªŒè¯ç­–ç•¥ï¼šè§„åˆ™æ ¡éªŒã€æ¨¡å‹äº¤å‰éªŒè¯ã€äººå·¥å…œåº•ã€‚</p>
</div>
<div class="en">
<p>This is the <strong>most important new pattern</strong> in 2025-2026 AI system design. Traditional systems trust computation results; LLM systems must <strong>verify outputs</strong>. Three strategies: rule-based checks, model cross-validation, human fallback.</p>
</div>
</div>

<div class="diagram">
  LLM è¾“å‡º â”€â”€â†’ Layer 1: Rule-Based â”€â”€â†’ Layer 2: Model-Based â”€â”€â†’ Layer 3: Human
                â”‚                       â”‚                        â”‚
                â”‚ â€¢ Regex / format      â”‚ â€¢ Safety classifier    â”‚ â€¢ Confidence &lt; Î¸
                â”‚ â€¢ Blocklist           â”‚ â€¢ Factuality check     â”‚ â€¢ Edge cases
                â”‚ â€¢ Length limits       â”‚ â€¢ Cross-model verify   â”‚ â€¢ Appeals
                â”‚ â€¢ PII detection       â”‚ â€¢ Hallucination detect â”‚
                â”‚                       â”‚                        â”‚
                â”‚ Cost: ~$0             â”‚ Cost: ~$0.001/req      â”‚ Cost: ~$1/req
                â”‚ Catches: 30%         â”‚ Catches: 60%           â”‚ Catches: 10%
</div>

<table>
<tr><th>ç³»ç»Ÿ</th><th>éªŒè¯ä»€ä¹ˆ</th><th>éªŒè¯æ–¹æ³•</th></tr>
<tr><td>ChatGPT</td><td>å®‰å…¨æ€§ã€äº‹å®æ€§</td><td>Safety classifier + Content filter + Rate limit</td></tr>
<tr><td>RAG</td><td>å¼•ç”¨å‡†ç¡®æ€§ã€å¹»è§‰</td><td>NLI æ¨¡å‹éªŒè¯ claim â†” sourceã€Citation grounding</td></tr>
<tr><td>Code Review</td><td>å»ºè®®æ­£ç¡®æ€§</td><td>Static analysis äº¤å‰éªŒè¯ + LLM self-challenge + ç½®ä¿¡åº¦</td></tr>
<tr><td>æ¨è</td><td>å¤šæ ·æ€§ã€åˆè§„</td><td>å»é‡ + ç±»åˆ«åˆ†å¸ƒæ£€æŸ¥ + A/B test</td></tr>
</table>

<div class="highlight-red">
<strong>âš ï¸ é‡è¦</strong>ï¼šCode Review ç³»ç»Ÿä¸­æˆ‘ä»¬å­¦åˆ°çš„ Verification Agent è®¾è®¡ç‰¹åˆ«å€¼å¾—è®°ä½â€”â€”ç”¨ Static Analysisï¼ˆç¡®å®šæ€§å·¥å…·ï¼‰äº¤å‰éªŒè¯ LLM è¾“å‡ºï¼ˆæ¦‚ç‡æ€§ï¼‰ï¼Œç„¶åè®© LLM è‡ªæˆ‘æŒ‘æˆ˜ï¼ˆ"è¿™ä¸ªå»ºè®®å¯èƒ½é”™åœ¨å“ªï¼Ÿ"ï¼‰ï¼Œæœ€åç»™å‡ºç½®ä¿¡åº¦åˆ†æ•°ã€‚è¿™ä¸ª pattern å¯ä»¥æ³›åŒ–åˆ°ä»»ä½•éœ€è¦é«˜ç²¾ç¡®åº¦çš„ LLM åº”ç”¨ã€‚
</div>

<p class="systems-used">
<span class="tag">ChatGPT</span> <span class="tag">RAG</span> <span class="tag">Code Review</span> <span class="tag">æ¨èç³»ç»Ÿ</span>
</p>
</div>

<h2>ğŸ“Š Pattern 6: Hybrid Retrievalï¼ˆæ··åˆæ£€ç´¢ï¼‰</h2>

<div class="pattern-card">
<h3>æ ¸å¿ƒæ€æƒ³ï¼šå‘é‡æœç´¢ + å…³é”®è¯æœç´¢ > ä»»ä½•å•ä¸€æ–¹æ³•</h3>

<div class="bilingual">
<div class="zh">
<p>åœ¨æ‰€æœ‰éœ€è¦æ£€ç´¢çš„ç³»ç»Ÿä¸­ï¼Œ<strong>Hybrid Search = Vector (è¯­ä¹‰) + BM25 (å…³é”®è¯) + RRF èåˆ</strong> å·²ç»æˆä¸ºæ ‡å‡†åšæ³•ã€‚ä¸¤ç§æ£€ç´¢æ–¹å¼äº’è¡¥ï¼šå‘é‡æŠ“è¯­ä¹‰ï¼ŒBM25 æŠ“ç²¾ç¡®åŒ¹é…ã€‚</p>
</div>
<div class="en">
<p>Across all retrieval-heavy systems, <strong>Hybrid Search = Vector (semantic) + BM25 (keyword) + RRF fusion</strong> has become the standard. The two approaches are complementary: vectors catch semantics, BM25 catches exact matches.</p>
</div>
</div>

<pre><code>// Reciprocal Rank Fusion â€” æœ€ç®€å•ä½†æ•ˆæœæœ€å¥½çš„èåˆæ–¹æ³•
function RRF(rankings: Map&lt;string, number&gt;[], k = 60): ScoredItem[] {
  const scores = new Map&lt;string, number&gt;();
  
  for (const ranking of rankings) {
    for (const [docId, rank] of ranking) {
      const current = scores.get(docId) || 0;
      scores.set(docId, current + 1 / (k + rank));
    }
  }
  
  return [...scores.entries()]
    .sort((a, b) => b[1] - a[1])
    .map(([id, score]) => ({ id, score }));
}

// ä½¿ç”¨ï¼šèåˆ BM25 å’Œ Vector æœç´¢ç»“æœ
const bm25Results = await bm25Search(query);     // {docId â†’ rank}
const vectorResults = await vectorSearch(query);   // {docId â†’ rank}
const fused = RRF([bm25Results, vectorResults]);</code></pre>

<p class="systems-used">
<span class="tag">æœç´¢å¼•æ“</span> <span class="tag">RAG</span> <span class="tag">Code Review</span> <span class="tag">æ¨èç³»ç»Ÿ</span>
</p>
</div>

<h2>ğŸ“ Pattern 7: The Universal ML System Design Frameworkï¼ˆä¸‡èƒ½é¢è¯•æ¡†æ¶ï¼‰</h2>

<div class="pattern-card">
<h3>é¢è¯•æ—¶çš„æ ‡å‡†å›ç­”ç»“æ„ï¼ˆ45åˆ†é’Ÿï¼‰</h3>

<div class="highlight-green">
<p>åŸºäºæˆ‘ä»¬è®¾è®¡çš„ 5 ä¸ªç³»ç»Ÿï¼Œæç‚¼å‡ºé¢è¯•é€šç”¨æ¡†æ¶ï¼š</p>
</div>

<div class="diagram">
  â”Œâ”€â”€â”€ Phase 1: Clarify (5 min) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â€¢ åŠŸèƒ½éœ€æ±‚ (æ ¸å¿ƒ use case æ˜¯ä»€ä¹ˆ?)                               â”‚
  â”‚ â€¢ éåŠŸèƒ½éœ€æ±‚ (QPS? å»¶è¿Ÿ? å‡†ç¡®ç‡?)                               â”‚
  â”‚ â€¢ çº¦æŸæ¡ä»¶ (é¢„ç®—? æ•°æ®é‡? å®æ—¶æ€§?)                               â”‚
  â”‚ â€¢ å…³é”®æŒ‡æ ‡ (ç”¨ä»€ä¹ˆè¡¡é‡æˆåŠŸ?)                                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
  â”Œâ”€â”€â”€ Phase 2: High-Level Design (10 min) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â€¢ ç”» Offline / Online åˆ†ç•Œçº¿                     [Pattern 2]   â”‚
  â”‚ â€¢ ç¡®å®šä¸»è¦ç»„ä»¶å’Œæ•°æ®æµ                                          â”‚
  â”‚ â€¢ æ ‡æ³¨ ML vs éML ç»„ä»¶                                         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
  â”Œâ”€â”€â”€ Phase 3: Data & Features (8 min) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â€¢ æ•°æ®æ¥æºå’Œå¤„ç† pipeline                                       â”‚
  â”‚ â€¢ Feature engineering (ä»€ä¹ˆç‰¹å¾? æ€ä¹ˆå­˜?)       [Feature Store] â”‚
  â”‚ â€¢ æ•°æ®è´¨é‡å’Œæ ‡æ³¨ç­–ç•¥                                            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
  â”Œâ”€â”€â”€ Phase 4: Model & Pipeline (10 min) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â€¢ æ¨¡å‹é€‰æ‹©å’Œè®­ç»ƒ                                                â”‚
  â”‚ â€¢ Multi-stage pipeline                           [Pattern 1]   â”‚
  â”‚ â€¢ Model Routing                                  [Pattern 3]   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
  â”Œâ”€â”€â”€ Phase 5: Serving & Scale (7 min) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â€¢ å®¹é‡ä¼°ç®— (QPS, Storage, Compute)                              â”‚
  â”‚ â€¢ Caching strategy                               [Pattern 4]   â”‚
  â”‚ â€¢ æ°´å¹³æ‰©å±•æ–¹æ¡ˆ                                                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
  â”Œâ”€â”€â”€ Phase 6: Safety & Quality (5 min) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ â€¢ Guardrails & Verification                      [Pattern 5]   â”‚
  â”‚ â€¢ Monitoring (data drift, model decay)                          â”‚
  â”‚ â€¢ A/B testing å’Œè¿­ä»£                                            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</div>
</div>

<h2>ğŸ”— Pattern Cross-Reference: 5 ä¸ªç³»ç»Ÿ Ã— 7 ä¸ªæ¨¡å¼</h2>

<table>
<tr>
<th>Pattern</th><th>ChatGPT</th><th>æ¨è</th><th>æœç´¢</th><th>RAG</th><th>Code Review</th>
</tr>
<tr><td>Multi-Stage Pipeline</td><td>âœ… Intentâ†’Genâ†’Safety</td><td>âœ…âœ… 4é˜¶æ®µæ¼æ–—</td><td>âœ…âœ… Retrieveâ†’Rerank</td><td>âœ… Retrieveâ†’Rerankâ†’Gen</td><td>âœ… Scanâ†’Analyzeâ†’Verify</td></tr>
<tr><td>Offline/Online Split</td><td>âœ… RLHFç¦»çº¿</td><td>âœ…âœ… Feature Store</td><td>âœ…âœ… Indexæ„å»º</td><td>âœ…âœ… Doc Processing</td><td>âœ… Codeç´¢å¼•</td></tr>
<tr><td>Model Routing</td><td>âœ…âœ… æŒ‰å¥—é¤è·¯ç”±</td><td>âœ… L1/L2åˆ†å±‚</td><td>â—¯ ç›¸å¯¹ç®€å•</td><td>âœ… FAQ/Simple/Complex</td><td>âœ…âœ… æŒ‰diffå¤æ‚åº¦</td></tr>
<tr><td>Multi-Layer Cache</td><td>âœ… KV-Cache</td><td>âœ…âœ… Feature Cache</td><td>âœ… Query Cache</td><td>âœ…âœ… ä¸‰å±‚ç¼“å­˜</td><td>âœ… ç›¸åŒdiffç¼“å­˜</td></tr>
<tr><td>Guardrails</td><td>âœ…âœ… Safety 4è¦ç´ </td><td>âœ… å¤šæ ·æ€§/åˆè§„</td><td>âœ… å†…å®¹è¿‡æ»¤</td><td>âœ…âœ… é˜²å¹»è§‰3å±‚</td><td>âœ…âœ… Verification Agent</td></tr>
<tr><td>Hybrid Retrieval</td><td>â—¯ æ— æ£€ç´¢</td><td>âœ… å¤šè·¯å¬å›</td><td>âœ…âœ… BM25+Vector+RRF</td><td>âœ…âœ… Hybrid Search</td><td>âœ… Code Search</td></tr>
</table>

<p><small>âœ…âœ… = æ ¸å¿ƒä½¿ç”¨ | âœ… = ä½¿ç”¨ | â—¯ = è¾ƒå°‘æ¶‰åŠ</small></p>

<h2>ğŸ’¡ å®¹é‡ä¼°ç®—é€ŸæŸ¥è¡¨ Cheat Sheet</h2>

<div class="architecture">
<div class="bilingual">
<div class="zh">
<p>æ¯ä¸ªç³»ç»Ÿè®¾è®¡é¢è¯•éƒ½éœ€è¦å®¹é‡ä¼°ç®—ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬ 5 ä¸ªç³»ç»Ÿçš„ç»éªŒæ•°æ®ï¼š</p>
</div>
<div class="en">
<p>Every system design interview needs capacity estimation. Here's empirical data from our 5 systems:</p>
</div>
</div>

<pre><code>// å¸¸ç”¨ä¼°ç®—å…¬å¼
DAU to QPS:     QPS â‰ˆ DAU Ã— avg_requests / 86400 Ã— peak_factor(3-5x)
Storage:        Embedding storage â‰ˆ docs Ã— dims Ã— 4 bytes (float32)
LLM Cost:       monthly â‰ˆ QPS Ã— 86400 Ã— 30 Ã— avg_tokens Ã— price_per_token
Latency Budget: P99 â‰ˆ sum(stage_p99) + network_overhead(~20ms)

// ç»éªŒå€¼
ChatGPT:     200M DAU â†’ ~46K QPS â†’ ~$1-2M/day LLM æˆæœ¬
æ¨èç³»ç»Ÿ:    500M DAU â†’ ~580K QPS (å«å¤šæ¬¡åˆ·æ–°)
æœç´¢å¼•æ“:    1B queries/day â†’ ~12K QPS average
RAGçŸ¥è¯†åº“:   10M chunks â†’ ~40GB embedding storage â†’ ~$1200/mo
Code Review:  100K PRs/day â†’ ~$4-6K/day</code></pre>
</div>

<h2>ğŸ¤ é¢è¯•é«˜é¢‘é—®é¢˜ Ã— Pattern æ˜ å°„</h2>

<div class="interview">
<h4>Q1: "ä½ çš„ç³»ç»Ÿæ€ä¹ˆå¤„ç†å†·å¯åŠ¨ï¼Ÿ" (Cold Start)</h4>
<p><strong>é€‚ç”¨ Pattern</strong>: Model Routing + Feature Engineering</p>
<p><strong>æ ‡å‡†ç­”æ¡ˆ</strong>: æ–°ç”¨æˆ·/æ–°ç‰©å“ç”¨ popularity-based fallbackï¼ˆModel Routing åˆ°ç®€å•è§„åˆ™ï¼‰ï¼ŒåŒæ—¶å¿«é€Ÿæ”¶é›†äº¤äº’ä¿¡å·ï¼ˆFeature Store å¢é‡æ›´æ–°ï¼‰ï¼Œäº¤äº’é‡åˆ°é˜ˆå€¼ååˆ‡æ¢åˆ°ä¸ªæ€§åŒ–æ¨¡å‹ã€‚</p>
<p><strong>å‡ºç°åœ¨</strong>: æ¨èç³»ç»Ÿ (Day 2), ChatGPT (Day 1 ç”¨æˆ·ç”»åƒ)</p>
</div>

<div class="interview">
<h4>Q2: "å»¶è¿Ÿå¤ªé«˜æ€ä¹ˆä¼˜åŒ–ï¼Ÿ" (Latency Optimization)</h4>
<p><strong>é€‚ç”¨ Pattern</strong>: Caching + Pipeline + Model Routing</p>
<p><strong>ä¸‰æ¿æ–§</strong>: â‘  åŠ ç¼“å­˜ï¼ˆæœ€ç›´æ¥ï¼Œå‡å°‘è®¡ç®—ï¼‰ â‘¡ å‡å°‘ pipeline é˜¶æ®µæˆ–å¹¶è¡ŒåŒ– â‘¢ Model Routing å°æ¨¡å‹å¤„ç†ç®€å•è¯·æ±‚ã€‚é«˜çº§ï¼šSpeculative Executionï¼ˆå¹¶è¡Œè·‘å¤šé˜¶æ®µï¼ŒèµŒ early stage ä¸ä¼šè¿‡æ»¤æ‰å¤ªå¤šï¼‰ã€‚</p>
</div>

<div class="interview">
<h4>Q3: "æ€ä¹ˆä¿è¯ LLM è¾“å‡ºè´¨é‡ï¼Ÿ" (Output Quality)</h4>
<p><strong>é€‚ç”¨ Pattern</strong>: Guardrails + Verification</p>
<p><strong>æ ‡å‡†ç­”æ¡ˆ</strong>: ä¸‰å±‚é˜²çº¿â€”â€”è§„åˆ™å±‚ï¼ˆæˆæœ¬æœ€ä½ï¼Œæ‹¦æˆªæ ¼å¼/å®‰å…¨é—®é¢˜ï¼‰ã€æ¨¡å‹å±‚ï¼ˆNLI/åˆ†ç±»å™¨éªŒè¯äº‹å®æ€§ï¼‰ã€äººå·¥å±‚ï¼ˆä½ç½®ä¿¡åº¦ escalateï¼‰ã€‚å…³é”®æŒ‡æ ‡ï¼šPrecision > Recallï¼ˆå®å¯å°‘è¯´ï¼Œä¸å¯è¯´é”™ï¼‰ã€‚</p>
<p><strong>å‡ºç°åœ¨</strong>: RAG é˜²å¹»è§‰ (Day 4), Code Review Verification (Day 5), ChatGPT Safety (Day 1)</p>
</div>

<div class="interview">
<h4>Q4: "ä½ çš„ç³»ç»Ÿæˆæœ¬å¤ªé«˜ï¼Œæ€ä¹ˆé™ï¼Ÿ" (Cost Optimization)</h4>
<p><strong>é€‚ç”¨ Pattern</strong>: Model Routing + Caching + Offline/Online</p>
<p><strong>æˆæœ¬ä¼˜åŒ–ä¼˜å…ˆçº§</strong>: â‘  Cachingï¼ˆé¿å…é‡å¤è®¡ç®—, -30-50%ï¼‰â‘¡ Model Routingï¼ˆå¤§éƒ¨åˆ†è¯·æ±‚ç”¨å°æ¨¡å‹, -40-60%ï¼‰â‘¢ ç¦»çº¿é¢„è®¡ç®—ï¼ˆFeature Store, Index, -20%ï¼‰â‘£ Prompt å‹ç¼©ï¼ˆå‡å°‘ token, -10-30%ï¼‰ã€‚ç»„åˆèµ·æ¥å¯é™ 70-85%ã€‚</p>
</div>

<h2>ğŸ¤” æ€è€ƒé¢˜</h2>

<div class="follow-up">
<h3>ğŸ’¬ If you were asked to "Design an AI Content Moderation System"...</h3>
<div class="bilingual">
<div class="zh">
<p>ç”¨ä»Šå¤©å­¦çš„ 7 ä¸ªæ¨¡å¼æ¥æ‹†è§£ï¼š</p>
<ol>
<li>Multi-Stage Pipeline ä¼šæ€ä¹ˆè®¾è®¡ï¼Ÿï¼ˆæç¤ºï¼šä» hash matching â†’ rule â†’ classifier â†’ LLMï¼‰</li>
<li>å“ªäº›å†…å®¹å®¡æ ¸ä»»åŠ¡é€‚åˆ Model Routingï¼Ÿï¼ˆæç¤ºï¼šæ˜æ˜¾è¿è§„ vs è¾¹ç•Œæ¡ˆä¾‹ï¼‰</li>
<li>Guardrails åœ¨å®¡æ ¸ç³»ç»Ÿä¸­åè½¬äº†â€”â€”å®¡æ ¸ç³»ç»Ÿæœ¬èº«<em>å°±æ˜¯</em> guardrailã€‚é‚£è°æ¥éªŒè¯å®¡æ ¸ç³»ç»Ÿçš„è¾“å‡ºï¼Ÿ</li>
</ol>
<p>è¿™æ˜¯ Phase 2.1 curriculum ä¸­ä¸‹ä¸€ä¸ªå¾…åšçš„é¢˜ç›®ã€‚å…ˆæƒ³æƒ³ï¼Œæˆ‘ä»¬ä¸‹æ¬¡æ¥è®¾è®¡ï¼</p>
</div>
<div class="en">
<p>Apply today's 7 patterns to break it down:</p>
<ol>
<li>How would the Multi-Stage Pipeline look? (Hint: hash match â†’ rules â†’ classifier â†’ LLM)</li>
<li>Which moderation tasks fit Model Routing? (Hint: obvious violations vs edge cases)</li>
<li>Guardrails are inverted here â€” the moderation system <em>IS</em> the guardrail. So who verifies the moderator?</li>
</ol>
<p>This is the next topic in Phase 2.1. Think about it â€” we'll design it next!</p>
</div>
</div>
</div>

<hr style="margin-top: 40px;">
<p style="color: #999; font-size: 13px;">
ğŸ“š Knowledge Agent | Phase 2.2 Day 1: ML System Design é€šç”¨æ¶æ„æ¨¡å¼<br>
åŸºäº Phase 2.1 çš„ 5 ä¸ªç³»ç»Ÿ (ChatGPT/æ¨è/æœç´¢/RAG/Code Review) æç‚¼<br>
ç³»åˆ—ï¼šPhase 2.2 ML ç³»ç»Ÿè®¾è®¡è¦ç‚¹ | ä¸‹ä¸€ç¯‡é¢„å‘Šï¼šè®¾è®¡ AI å†…å®¹å®¡æ ¸ç³»ç»Ÿ
</p>

</body>
</html>